# 模拟信号数字化传输系统仿真

## 项目概述

该项目本为个人课程设计所做，能力有限，难免问题与纰漏，望三思而取之。

该项目旨在通过MATLAB仿真模拟信号的数字化传输过程，主要包括模拟信号的抽样、A律编码和解码、以及量化误差的计算与分析。通过仿真不同采样频率下的信号波形和频谱，研究信号的数字化处理过程及其误差特性。

## 主要功能

1. **抽样模拟信号**：定义并生成一个模拟信号，进行不同采样频率的抽样，并计算信号的频谱。
2. **A律编码与解码**：实现了A律编码和解码，对抽样信号进行编码，并通过解码恢复信号，计算量化误差。
3. **量化误差分析**：计算信号在编码和解码过程中的量化误差，并输出均方误差 (MSE)。
4. **结果可视化**：绘制信号的时域波形、频域图以及编码和解码信号的比较图，量化误差图。
5. **数据输出**：将编码、解码数据和量化误差输出到 Excel 文件，以便进一步分析。

## 使用说明

### 1. 环境要求

- MATLAB 版本：R2020a 或更高版本。
- 需要安装 MATLAB 内置工具箱（如 Signal Processing Toolbox）。

### 2. 代码结构

- **main.m**：主程序文件，执行仿真任务，包含模拟信号生成、抽样、A律编码和解码、结果绘图等功能。
- **results/**：保存仿真结果的目录，包括：
  - **1.原始信号时频域.png**：原始模拟信号的时频域图。
  - **2.抽样信号时频域（XHz采样）.png**：抽样信号的时频域图（不同采样频率）。
  - **3.编码信号与译码信号.png**：编码信号和解码信号的时域图。
  - **4.量化误差图.png**：量化误差的时域图。
  - **编译码数据.xlsx**：包含抽样信号的编码、解码值及量化误差的数据表。
  
### 3. 主要功能

#### 3.1 抽样模拟信号

- **步骤**：
  1. 定义模拟信号，包括多个频率成分（如正弦波）。
  2. 对模拟信号进行抽样，抽样频率为 20Hz（可以根据需求修改）。
  3. 绘制原始模拟信号和抽样信号的时域波形及其频谱。

#### 3.2 A律编码与解码

- **步骤**：
  1. 对抽样信号进行归一化处理，将信号的幅度缩放到 [-1, 1] 范围。
  2. 使用 A 律编码对抽样信号进行编码，编码参数 A 为 87.6。
  3. 将编码后的信号转换为 8 位 PCM 码。
  4. 使用 A 律解码公式对编码信号进行解码，恢复信号。
  5. 计算并输出量化误差以及均方误差 (MSE)。

#### 3.3 结果可视化

- **图形展示**：
  1. 绘制原始模拟信号与抽样信号的时频域图。
  2. 绘制编码信号与解码信号的对比图。
  3. 绘制量化误差的图形。
  4. 输出所有图形为高质量的 PNG 文件，存储在 `results/` 目录中。

#### 3.4 数据输出到 Excel

- **输出内容**：
  - 时间、编码值、译码值和量化误差数据。
  - 数据保存在 `编译码数据.xlsx` 文件中，存储在 `results/` 目录。

### 4. 示例输出

以下是仿真过程中的一些示例输出结果：

1. **原始信号时频域图**：
   - 显示了原始模拟信号的时域波形与频谱。

2. **抽样信号时频域图**：
   - 显示了抽样信号的时域波形与频谱（例如，采样频率为 20Hz）。

3. **编码信号与译码信号对比图**：
   - 展示了编码后的信号和通过 A 律解码恢复的信号的对比。

4. **量化误差图**：
   - 显示了在编码解码过程中产生的量化误差。

5. **量化误差**：
   - 输出了计算得到的均方误差（MSE）值，表示量化误差的大小。

### 5. 自定义设置

在代码中，用户可以根据需求修改以下参数：
- **采样频率** (`fs`): 默认设置为 20Hz，可以根据需要调整。
- **A 律参数** (`A`): 默认设置为 87.6，可以根据应用需求进行调整。

### 6. 数据输出格式

- **Excel 文件**：`编译码数据.xlsx`
  - 包含时间、8 位编码值、译码值和量化误差列。
  - 数据格式如下：

    | Time (秒) | 8位编码 | 译码值 | 量化误差 |
    | :-------: | :-----: | :----: | :------: |
    |     0     |   127   |  1.2   |   0.01   |
    |    0.1    |   123   |  1.0   |  -0.02   |
    |    ...    |   ...   |  ...   |   ...    |

### 7. 许可证

本项目遵循 MIT 许可证。具体许可证内容请参阅 LICENSE 文件。

## 联系方式

如果您有任何问题或建议，请联系以下人员：

- 项目负责人：Kendrick Irving（aryiiutey76@gmail.com)